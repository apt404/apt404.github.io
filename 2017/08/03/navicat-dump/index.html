<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="0x01 基本环境说明:12目标边界机器lnmp01的域名及内网ip: www.rootkit.org 192.168.32.167目标内网中数据库[暂以mysql为例]服务器[win7]的内网ip: 192.168.32.168 1很明显,lnmp01和win7在目标内网是可以互通的 0x02 实际脱裤可能会面临的一些困境:123456想脱数据,但目标数据库不允许root用户外连,可能的原因多种">
<meta name="keywords" content="Navicat">
<meta property="og:type" content="article">
<meta property="og:title" content="利用 Navicat 自带的http隧道进行脱裤">
<meta property="og:url" content="https://apt404.github.io/2017/08/03/navicat-dump/index.html">
<meta property="og:site_name" content="APT404-不疯不魔怎么活">
<meta property="og:description" content="0x01 基本环境说明:12目标边界机器lnmp01的域名及内网ip: www.rootkit.org 192.168.32.167目标内网中数据库[暂以mysql为例]服务器[win7]的内网ip: 192.168.32.168 1很明显,lnmp01和win7在目标内网是可以互通的 0x02 实际脱裤可能会面临的一些困境:123456想脱数据,但目标数据库不允许root用户外连,可能的原因多种">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_upload.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_upload_res.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_connect.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_upload_connect.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_upload_connect_win7.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_upload_connect_win7_res.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_all.png">
<meta property="og:image" content="https://apt404.github.io/img/ntuunel_mysql_upload_connect_ssl_ssh.png">
<meta property="og:updated_time" content="2017-09-19T00:22:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="利用 Navicat 自带的http隧道进行脱裤">
<meta name="twitter:description" content="0x01 基本环境说明:12目标边界机器lnmp01的域名及内网ip: www.rootkit.org 192.168.32.167目标内网中数据库[暂以mysql为例]服务器[win7]的内网ip: 192.168.32.168 1很明显,lnmp01和win7在目标内网是可以互通的 0x02 实际脱裤可能会面临的一些困境:123456想脱数据,但目标数据库不允许root用户外连,可能的原因多种">
<meta name="twitter:image" content="https://apt404.github.io/img/ntuunel_mysql.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>利用 Navicat 自带的http隧道进行脱裤</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/08/06/ew-tunnel/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/08/02/log-find/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://apt404.github.io/2017/08/03/navicat-dump/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://apt404.github.io/2017/08/03/navicat-dump/&text=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://apt404.github.io/2017/08/03/navicat-dump/&is_video=false&description=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=利用 Navicat 自带的http隧道进行脱裤&body=Check out this article: https://apt404.github.io/2017/08/03/navicat-dump/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://apt404.github.io/2017/08/03/navicat-dump/&name=利用 Navicat 自带的http隧道进行脱裤&description=&lt;p&gt;&lt;br&gt;&lt;br&gt;0x01 基本环境说明:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;目标边界机器lnmp01的域名及内网ip: www.rootkit.org 192.168.32.167&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;目标内网中数据库[暂以mysql为例]服务器[win7]的内网ip: 192.168.32.168&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;很明显,lnmp01和win7在目标内网是可以互通的&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;0x02 实际脱裤可能会面临的一些困境:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;想脱数据,但目标数据库不允许root用户外连,可能的原因多种多样,一般只grant到指定的ip才能连&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;目标站库分离[再正常不过],数据库在内网的某台机器上&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;即使没分离,当前的数据库用户又不允许外联,另外,由于当前数据库用户权限不够,也没法自己开启外联&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;即使是root,不知道什么乱七八糟的原因,没法grant允许root外连...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;边界防火墙阻断外部ip对内部数据库端口[假设为3306]的访问等等....&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;还在为脱裤烦恼吗,嘿嘿……navicat也许可以帮到你&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;0x03 我们最终要实现的效果:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;通过lnmp01这台机器,脱取内网win7机器上的所有数据&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        利用 Navicat 自带的http隧道进行脱裤
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">klion</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-08-02T19:46:52.000Z" itemprop="datePublished">2017-08-03</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Navicat/">Navicat</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><br><br>0x01 基本环境说明:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">目标边界机器lnmp01的域名及内网ip: www.rootkit.org 192.168.32.167</span><br><span class="line">目标内网中数据库[暂以mysql为例]服务器[win7]的内网ip: 192.168.32.168</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">很明显,lnmp01和win7在目标内网是可以互通的</span><br></pre></td></tr></table></figure>
<p>0x02 实际脱裤可能会面临的一些困境:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">想脱数据,但目标数据库不允许root用户外连,可能的原因多种多样,一般只grant到指定的ip才能连</span><br><span class="line">目标站库分离[再正常不过],数据库在内网的某台机器上</span><br><span class="line">即使没分离,当前的数据库用户又不允许外联,另外,由于当前数据库用户权限不够,也没法自己开启外联</span><br><span class="line">即使是root,不知道什么乱七八糟的原因,没法grant允许root外连...</span><br><span class="line">边界防火墙阻断外部ip对内部数据库端口[假设为3306]的访问等等....</span><br><span class="line">还在为脱裤烦恼吗,嘿嘿……navicat也许可以帮到你</span><br></pre></td></tr></table></figure></p>
<p>0x03 我们最终要实现的效果:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过lnmp01这台机器,脱取内网win7机器上的所有数据</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>0x04 大概思路,前提是你现在至少已经有了一个菜刀的webshell 可执行系统命令,且能正常上传文件的情况下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在数据量非常少的情况下,可考虑直接用菜刀,大马或者针对各种数据库的脱裤脚本来脱,一两万还是勉强可行的</span><br><span class="line">还有一种,就是你也可以通过拦截菜刀的发送的sql语句,借助py把里面的语句替换成你自己的,以此来实现导出数据,不过效率肯定不是太高....</span><br><span class="line">如果数据量非常多的情况下,传统的方法,还可能会利用端口转发,把目标本地或内网指定机器的数据库端口转发到自己vps上,然后在vps本地再用navicat来脱,至于转发工具就非常多了,如,ew,socat之流....</span><br><span class="line">还有一种,就是咱们今天要介绍到的,利用Navicat自身提供的http代理连接方式,说白点儿就是http隧道,其实也是个烂大街的招儿了,但相见恨晚,嘿嘿……</span><br></pre></td></tr></table></figure></p>
<p>0x05 具体操作,如下:<br>&nbsp;&nbsp;首先,上传对应数据库的代理脚本[目前我们看到,暂只支持postgresql,sqlite以及mysql],这里暂以mysql为例,即上传Navicat安装目录下的ntunnel_mysql.php脚本到目标网站的任意目录中<br><img src="/img/ntuunel_mysql.png" alt=""><br><img src="/img/ntuunel_mysql_upload.png" alt=""><br></p>
<p>&nbsp;&nbsp;然后,在浏览器中尝试访问该脚本,从界面乍一看,还以为是个脱裤脚本,其实,那只是个连接测试,它只是为了测试你的代理能否连接成功,做了下简单的连接验证而已<br><img src="/img/ntuunel_mysql_upload_res.png" alt=""><br></p>
<p>&nbsp;&nbsp;此时,在本地打开Navicat配置http连接,这里的通道地址就写你上面访问的那个url,说白点儿就是个代理端,记得勾上使用base64编码,防止waf从中作祟,然后主机名写localhost,账号密码写lnmp01本地数据库用户的账号即可,因为要连接lnmp01本地的mysql<br><img src="/img/ntuunel_mysql_connect.png" alt=""><br><img src="/img/ntuunel_mysql_upload_connect.png" alt=""><br></p>
<p>&nbsp;&nbsp;再来尝试连接目标内网中win7机器上的mysql,此时主机名ip就要写目标内网那台机器的ip了,数据库账号密码也要写那台机器上的数据库账号密码<br><img src="/img/ntuunel_mysql_upload_connect_win7.png" alt=""><br><img src="/img/ntuunel_mysql_upload_connect_win7_res.png" alt=""><br></p>
<p>&nbsp;&nbsp;最后,实际的连接效果如下,此时即可尽情的脱裤了,navicat的速度和稳定性还是非常值得信赖的,唯一的缺陷就是速度可能会稍慢,不过这已经足以轻松秒杀市面上所有的脱裤脚本了<br><img src="/img/ntuunel_mysql_all.png" alt=""><br></p>
<p>0x06 一点拓展:<br>&nbsp;&nbsp;&nbsp;&nbsp;从上面的选项卡中我们也可以清晰的看到,除了可使用http隧道,它还支持通过ssh隧道和ssl加密 的方法来连接,不得不说,Navicat实在是写的太贴心了,原谅自己用了这么年,直到今天才领悟到它的精髓,哈哈……实在是尴尬<br><img src="/img/ntuunel_mysql_upload_connect_ssl_ssh.png" alt=""><br></p>
<p>一些小结:<br>&nbsp;&nbsp;&nbsp;&nbsp;这也是无意间听同事说到的,顿时感觉耳目一新,所以就回来好奇的多喵了一眼,说实话自己用http隧道用了这么多年,当时一看到Navicat的选项心里就已经猜中了90% 它大概是怎么实现的,其实早该想到了,结果回来仔细一看,原来都是烂大街的东西了,所以这里就顺便记录下,当备忘吧</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://apt404.github.io/2017/08/03/navicat-dump/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://apt404.github.io/2017/08/03/navicat-dump/&text=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://apt404.github.io/2017/08/03/navicat-dump/&is_video=false&description=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=利用 Navicat 自带的http隧道进行脱裤&body=Check out this article: https://apt404.github.io/2017/08/03/navicat-dump/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://apt404.github.io/2017/08/03/navicat-dump/&title=利用 Navicat 自带的http隧道进行脱裤"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://apt404.github.io/2017/08/03/navicat-dump/&name=利用 Navicat 自带的http隧道进行脱裤&description=&lt;p&gt;&lt;br&gt;&lt;br&gt;0x01 基本环境说明:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;目标边界机器lnmp01的域名及内网ip: www.rootkit.org 192.168.32.167&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;目标内网中数据库[暂以mysql为例]服务器[win7]的内网ip: 192.168.32.168&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;很明显,lnmp01和win7在目标内网是可以互通的&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;0x02 实际脱裤可能会面临的一些困境:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;想脱数据,但目标数据库不允许root用户外连,可能的原因多种多样,一般只grant到指定的ip才能连&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;目标站库分离[再正常不过],数据库在内网的某台机器上&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;即使没分离,当前的数据库用户又不允许外联,另外,由于当前数据库用户权限不够,也没法自己开启外联&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;即使是root,不知道什么乱七八糟的原因,没法grant允许root外连...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;边界防火墙阻断外部ip对内部数据库端口[假设为3306]的访问等等....&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;还在为脱裤烦恼吗,嘿嘿……navicat也许可以帮到你&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;0x03 我们最终要实现的效果:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;通过lnmp01这台机器,脱取内网win7机器上的所有数据&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


