<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="一、首先,部署apache 0x01 关于centOS7的安装就不细说了,依然是最小化安装,只勾选必要的系统库及常用工具,务必记得先禁用selinux和系统防火墙,此次部署环境软件包如下:1234567apr-1.6.2.tar.gzapr-util-1.6.0.tar.gzcronolog-1.6.2.tar.gzhttpd-2.4.27.tar.gzlibiconv-1.14.tar.gzmy">
<meta name="keywords" content="env">
<meta property="og:type" content="article">
<meta property="og:title" content="centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9">
<meta property="og:url" content="https://apt404.github.io/2016/06/27/HeightLAMP/index.html">
<meta property="og:site_name" content="APT404-不疯不魔怎么活">
<meta property="og:description" content="一、首先,部署apache 0x01 关于centOS7的安装就不细说了,依然是最小化安装,只勾选必要的系统库及常用工具,务必记得先禁用selinux和系统防火墙,此次部署环境软件包如下:1234567apr-1.6.2.tar.gzapr-util-1.6.0.tar.gzcronolog-1.6.2.tar.gzhttpd-2.4.27.tar.gzlibiconv-1.14.tar.gzmy">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-11-30T13:29:24.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9">
<meta name="twitter:description" content="一、首先,部署apache 0x01 关于centOS7的安装就不细说了,依然是最小化安装,只勾选必要的系统库及常用工具,务必记得先禁用selinux和系统防火墙,此次部署环境软件包如下:1234567apr-1.6.2.tar.gzapr-util-1.6.0.tar.gzcronolog-1.6.2.tar.gzhttpd-2.4.27.tar.gzlibiconv-1.14.tar.gzmy">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2016/06/28/HeightLNMP/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2016/06/27/php-inclusion-exploit/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://apt404.github.io/2016/06/27/HeightLAMP/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://apt404.github.io/2016/06/27/HeightLAMP/&text=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://apt404.github.io/2016/06/27/HeightLAMP/&is_video=false&description=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9&body=Check out this article: https://apt404.github.io/2016/06/27/HeightLAMP/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://apt404.github.io/2016/06/27/HeightLAMP/&name=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9&description=&lt;p&gt;&lt;br&gt;&lt;br&gt;一、首先,部署apache&lt;/p&gt;
&lt;p&gt;0x01 关于centOS7的安装就不细说了,依然是最小化安装,只勾选必要的系统库及常用工具,务必记得先禁用selinux和系统防火墙,此次部署环境软件包如下:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;apr-1.6.2.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apr-util-1.6.0.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cronolog-1.6.2.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;httpd-2.4.27.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libiconv-1.14.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;php-7.1.9.tar.gz&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;要实现的架构大致如下:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">klion</span>
      </span>
      
    <div class="postdate">
        <time datetime="2016-06-27T02:13:41.000Z" itemprop="datePublished">2016-06-27</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/env/">env</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><br><br>一、首先,部署apache</p>
<p>0x01 关于centOS7的安装就不细说了,依然是最小化安装,只勾选必要的系统库及常用工具,务必记得先禁用selinux和系统防火墙,此次部署环境软件包如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">apr-1.6.2.tar.gz</span><br><span class="line">apr-util-1.6.0.tar.gz</span><br><span class="line">cronolog-1.6.2.tar.gz</span><br><span class="line">httpd-2.4.27.tar.gz</span><br><span class="line">libiconv-1.14.tar.gz</span><br><span class="line">mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz</span><br><span class="line">php-7.1.9.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>要实现的架构大致如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>0x02 开始编译安装httpd 2.4.27,跟之前一样,依然是先装好各种依赖库,步骤如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># yum install zlib zlib-devel pcre pcre-devel openssl openssl-devel libtool libtool-ltdl-devel -y</span><br><span class="line"># tar xf apr-1.6.2.tar.gz</span><br><span class="line"># cd apr-1.6.2 &amp;&amp; ./configure --prefix=/usr/local/apr &amp;&amp; make &amp;&amp; make install</span><br><span class="line"># yum install expat-devel -y</span><br><span class="line"># tar xf apr-util-1.6.0.tar.gz &amp;&amp; cd apr-util-1.6.0</span><br><span class="line"># ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr/ &amp;&amp; make &amp;&amp; make install</span><br><span class="line"># useradd web -s /sbin/nologin -M</span><br><span class="line"># tar xf httpd-2.4.27.tar.gz</span><br><span class="line"># cd httpd-2.4.27</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># ./configure --prefix=/usr/local/httpd-2.4.27 \</span><br><span class="line">--enable-deflate \</span><br><span class="line">--enable-expires \</span><br><span class="line">--enable-headers \</span><br><span class="line">--enable-ssl \</span><br><span class="line">--with-pcre \</span><br><span class="line">--enable-cgi \</span><br><span class="line">--enable-modules=most \</span><br><span class="line">--enable-so \</span><br><span class="line">--with-mpm=worker \</span><br><span class="line">--enable-rewrite \</span><br><span class="line">--with-apr=/usr/local/apr \</span><br><span class="line">--with-apr-util=/usr/local/apr-util \</span><br><span class="line">--libdir=/usr/lib64</span><br><span class="line"></span><br><span class="line"># make &amp;&amp; make install</span><br><span class="line"># ll /usr/local/</span><br><span class="line"># ln -s /usr/local/httpd-2.4.27/ /usr/local/httpd</span><br><span class="line"># mkdir /var/html/&#123;bwapp,wp,discuz,drupal,joomla,phpcms,phpbb,dvwa&#125; -p</span><br><span class="line"># cd /usr/local/httpd/conf/</span><br><span class="line"># cp httpd.conf httpd.conf.bak &amp;&amp; egrep -v &quot;^$|#&quot; httpd.conf &gt; httpd.min.conf</span><br><span class="line"># cat httpd.min.conf &gt; httpd.conf</span><br></pre></td></tr></table></figure>
<p>0x03 编辑配置apache主配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"># vi httpd.conf</span><br><span class="line"></span><br><span class="line">ServerRoot &quot;/usr/local/httpd-2.4.27&quot;</span><br><span class="line">ServerName localhost:80</span><br><span class="line">Listen 80</span><br><span class="line">LoadModule authn_file_module modules/mod_authn_file.so</span><br><span class="line">LoadModule authn_core_module modules/mod_authn_core.so</span><br><span class="line">LoadModule authz_host_module modules/mod_authz_host.so</span><br><span class="line">LoadModule authz_groupfile_module modules/mod_authz_groupfile.so</span><br><span class="line">LoadModule authz_user_module modules/mod_authz_user.so</span><br><span class="line">LoadModule authz_core_module modules/mod_authz_core.so</span><br><span class="line">LoadModule access_compat_module modules/mod_access_compat.so</span><br><span class="line">LoadModule auth_basic_module modules/mod_auth_basic.so</span><br><span class="line">LoadModule reqtimeout_module modules/mod_reqtimeout.so</span><br><span class="line">LoadModule filter_module modules/mod_filter.so</span><br><span class="line">LoadModule mime_module modules/mod_mime.so</span><br><span class="line">LoadModule log_config_module modules/mod_log_config.so</span><br><span class="line">LoadModule env_module modules/mod_env.so</span><br><span class="line">LoadModule headers_module modules/mod_headers.so</span><br><span class="line">LoadModule setenvif_module modules/mod_setenvif.so</span><br><span class="line">LoadModule version_module modules/mod_version.so</span><br><span class="line">LoadModule unixd_module modules/mod_unixd.so</span><br><span class="line">LoadModule status_module modules/mod_status.so</span><br><span class="line">LoadModule autoindex_module modules/mod_autoindex.so</span><br><span class="line">&lt;IfModule !mpm_prefork_module&gt;</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule mpm_prefork_module&gt;</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">LoadModule dir_module modules/mod_dir.so</span><br><span class="line">LoadModule alias_module modules/mod_alias.so</span><br><span class="line">&lt;IfModule unixd_module&gt;</span><br><span class="line">User web</span><br><span class="line">Group web</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">ServerAdmin sec@secheight.com</span><br><span class="line">&lt;Directory /&gt;</span><br><span class="line">    AllowOverride none</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">DocumentRoot &quot;/usr/local/httpd-2.4.27/htdocs&quot;</span><br><span class="line">&lt;Directory &quot;/usr/local/httpd-2.4.27/htdocs&quot;&gt;</span><br><span class="line">    Options Indexes FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;IfModule dir_module&gt;</span><br><span class="line">    DirectoryIndex index.html</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;Files &quot;.ht*&quot;&gt;</span><br><span class="line">    Require all denied</span><br><span class="line">&lt;/Files&gt;</span><br><span class="line">ErrorLog &quot;logs/error_log&quot;</span><br><span class="line">LogLevel warn</span><br><span class="line">&lt;IfModule log_config_module&gt;</span><br><span class="line">    LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%&#123;Referer&#125;i\&quot; \&quot;%&#123;User-Agent&#125;i\&quot;&quot; combined</span><br><span class="line">    LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b&quot; common</span><br><span class="line">    &lt;IfModule logio_module&gt;</span><br><span class="line">      LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%&#123;Referer&#125;i\&quot; \&quot;%&#123;User-Agent&#125;i\&quot; %I %O&quot; combinedio</span><br><span class="line">    &lt;/IfModule&gt;</span><br><span class="line">    CustomLog &quot;logs/access_log&quot; common</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule alias_module&gt;</span><br><span class="line">    ScriptAlias /cgi-bin/ &quot;/usr/local/httpd-2.4.27/cgi-bin/&quot;</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule cgid_module&gt;</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;Directory &quot;/usr/local/httpd-2.4.27/cgi-bin&quot;&gt;</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Options None</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;IfModule headers_module&gt;</span><br><span class="line">    RequestHeader unset Proxy early</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule mime_module&gt;</span><br><span class="line">    TypesConfig conf/mime.types</span><br><span class="line">    AddType application/x-compress .Z</span><br><span class="line">    AddType application/x-gzip .gz .tgz</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule proxy_html_module&gt;</span><br><span class="line">Include conf/extra/proxy-html.conf</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule ssl_module&gt;</span><br><span class="line">SSLRandomSeed startup builtin</span><br><span class="line">SSLRandomSeed connect builtin</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">Include conf/extra/httpd-vhosts.conf</span><br><span class="line">Include conf/extra/httpd-mpm.conf</span><br><span class="line">Include conf/extra/httpd-default.conf</span><br><span class="line">&lt;Directory &quot;/var/html&quot;&gt;</span><br><span class="line">    Options Indexes FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure></p>
<p>0x04 编辑配置各种扩展功能</p>
<p>添加虚拟机主机<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># vi /usr/local/httpd/conf/extra/httpd-vhosts.conf</span><br><span class="line"></span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    ServerAdmin bwapp@bwapp.com</span><br><span class="line">    DocumentRoot &quot;/var/html/bwapp&quot;</span><br><span class="line">    ServerName bwapp.com</span><br><span class="line">    ServerAlias www.bwapp.com</span><br><span class="line">    ErrorLog &quot;logs/bwapp.com-error_log&quot;</span><br><span class="line">    CustomLog &quot;logs/bwapp.com-access_log&quot; common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure></p>
<p>0x05 让访问日志自动轮询<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># tar xf cronolog-1.6.2.tar.gz</span><br><span class="line"># cd cronolog-1.6.2</span><br><span class="line"># ./configure &amp;&amp; make &amp;&amp; make install</span><br><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    ServerAdmin bwapp@bwapp.com</span><br><span class="line">    DocumentRoot &quot;/var/html/bwapp&quot;</span><br><span class="line">    ServerName bwapp.com</span><br><span class="line">    ServerAlias www.bwapp.com</span><br><span class="line">    ErrorLog &quot;logs/bwapp.com-error_log&quot;</span><br><span class="line">    CustomLog &quot;|/usr/local/sbin/cronolog /usr/local/httpd/logs/bwapp.com-access_%Y%m%d.log&quot; combined</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure></p>
<p>0x06 简单优化apache</p>
<p>调节apache默认并发<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># vi /usr/local/httpd/conf/extra/httpd-mpm.conf</span><br><span class="line">&lt;IfModule mpm_worker_module&gt;</span><br><span class="line">    StartServers             3</span><br><span class="line">    MinSpareThreads         75</span><br><span class="line">    MaxSpareThreads        250 </span><br><span class="line">    ThreadsPerChild         25</span><br><span class="line">    MaxRequestWorkers      400</span><br><span class="line">    MaxConnectionsPerChild   0</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure></p>
<p>配置文件级别隐藏apache敏感版本信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># vi /usr/local/httpd/conf/extra/httpd-default.conf</span><br><span class="line"></span><br><span class="line">Timeout  60</span><br><span class="line">KeepAlive  On</span><br><span class="line">MaxKeepAliveRequests  100</span><br><span class="line">KeepAliveTimeout  5</span><br><span class="line">UseCanonicalName  Off</span><br><span class="line">AccessFileName  .htaccess</span><br><span class="line">ServerTokens  Prod</span><br><span class="line">ServerSignature  Off</span><br><span class="line">HostnameLookups  Off</span><br><span class="line">&lt;IfModule reqtimeout_module&gt;</span><br><span class="line">  	RequestReadTimeout header=20-40,MinRate=500 body=20,MinRate=500</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># /usr/local/httpd/bin/apachectl -t</span><br><span class="line"># /usr/local/httpd/bin/apachectl start</span><br><span class="line"># echo &quot;/usr/local/httpd/bin/apachectl start&quot; &gt;&gt; /etc/rc.local</span><br><span class="line"># systemctl stop firewalld</span><br><span class="line"># systemctl disable firewalld</span><br></pre></td></tr></table></figure>
<p>二、部署mysql [ 为了节省时间,此次会用二进制包的方式进行部署 ]</p>
<p>0x01 安装前的一些准备工作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum -y install gcc glibc libaio libstdc++</span><br></pre></td></tr></table></figure></p>
<p>0x02 编写mysql主配置文件,my.cnf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># cp /etc/my.cnf /etc/my.cnf.bak</span><br><span class="line"># &gt; /etc/my.cnf</span><br><span class="line"># vi /etc/my.cnf</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">user=mysql</span><br><span class="line">port = 3306</span><br><span class="line">server_id = 1</span><br><span class="line">socket=/tmp/mysql.sock</span><br><span class="line">basedir =/usr/local/mysql</span><br><span class="line">datadir =/usr/local/mysql/data</span><br><span class="line">pid-file=/usr/local/mysql/data/mysqld.pid</span><br><span class="line">log-error=/usr/local/mysql/log/mysql-error.log</span><br></pre></td></tr></table></figure></p>
<p>0x03 安装初始化mysql<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># tar xf mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz</span><br><span class="line"># mv mysql-5.7.18-linux-glibc2.5-x86_64 /usr/local/</span><br><span class="line"># cd /usr/local/</span><br><span class="line"># ln -s mysql-5.7.18-linux-glibc2.5-x86_64/ mysql</span><br><span class="line"># echo &quot;export PATH=$PATH:/usr/local/mysql/bin/&quot; &gt;&gt; /etc/profile</span><br><span class="line"># source /etc/profile</span><br><span class="line"># groupadd mysql</span><br><span class="line"># useradd -r -g mysql -s /bin/false mysql</span><br><span class="line"># cd mysql</span><br><span class="line"># mkdir log</span><br><span class="line"># chown -R mysql:mysql . &amp;&amp; ll</span><br><span class="line"># mysqld --defaults-file=/etc/my.cnf --initialize --user=mysql --explicit_defaults_for_timestamp</span><br><span class="line"># cat /usr/local/mysql/log/mysql-error.log</span><br><span class="line">  root@localhost: (aAEs.S5csf:</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld</span><br><span class="line"># /etc/init.d/mysqld start</span><br><span class="line"># /etc/init.d/mysqld stop</span><br><span class="line"># echo &quot;/etc/init.d/mysqld start&quot; &gt;&gt; /etc/rc.local</span><br><span class="line"># echo &quot;export PATH=$PATH:/usr/local/mysql/bin&quot; &gt;&gt; /etc/profile </span><br><span class="line"># source /etc/profile</span><br><span class="line"># mysqld_safe --skip-grant-tables</span><br><span class="line"># mysql -uroot -p</span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; update user set authentication_string=password(&quot;admin&quot;) where user=&quot;root&quot; and Host = &apos;localhost&apos;;</span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line"># pkill mysqld</span><br><span class="line"># /etc/init.d/mysqld start</span><br><span class="line"># mysql -uroot -p</span><br><span class="line">mysql&gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;mysql&apos;;</span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; select Host,User from user;</span><br><span class="line">mysql&gt; exit</span><br><span class="line">mysql&gt; grant all on *.* to &apos;root&apos;@&apos;%&apos; identified by &apos;admin&apos; with grant option;flush privileges;</span><br></pre></td></tr></table></figure>
<p>三、部署php</p>
<p>0x01 仍旧是先安装好所需的各种依赖库,为了方便大家复制,所以这里就分开写了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y zlib zlib-devel libxml2-devel libxslt-devel </span><br><span class="line"># yum install -y libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel </span><br><span class="line"># yum install -y gd gd-devel curl curl-devel bison-devel </span><br><span class="line"># yum install -y libedit-devel readline-devel sqlite-devel libzip</span><br><span class="line"># yum install -y epel-release</span><br><span class="line"># yum install -y libmcrypt libmcrypt-devel mcrypt mhash mhash-devel openssl openssl-devel </span><br><span class="line"># yum install -y bzip2-devel jemalloc jemalloc-devel</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># ln -s /usr/lib64/libjpeg.so /usr/lib/libjpeg.so</span><br><span class="line"># ln -s /usr/lib64/libpng.so /usr/lib/libpng.so</span><br><span class="line"># tar xf libiconv-1.14.tar.gz</span><br><span class="line"># cd libiconv-1.14/srclib/</span><br><span class="line"># sed -i -e &apos;/gets is a security/d&apos; ./stdio.in.h</span><br><span class="line"># cd ..</span><br><span class="line"># ./configure --prefix=/usr/local/libiconv &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>0x02 开始编译安装php 7.1.9,注意,php7已经废弃mysql_connect<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"># tar xf php-7.1.9.tar.gz</span><br><span class="line"># cd php-7.1.9</span><br><span class="line"># ./configure \</span><br><span class="line">--prefix=/usr/local/php-7.1.9 \</span><br><span class="line">--exec-prefix=/usr/local/php-7.1.9 \</span><br><span class="line">--bindir=/usr/local/php-7.1.9/bin \</span><br><span class="line">--sbindir=/usr/local/php-7.1.9/sbin \</span><br><span class="line">--includedir=/usr/local/php-7.1.9/include \</span><br><span class="line">--libdir=/usr/local/php-7.1.9/lib/php \</span><br><span class="line">--mandir=/usr/local/php-7.1.9/php/man \</span><br><span class="line">--with-config-file-path=/usr/local/php-7.1.9/etc \</span><br><span class="line">--with-iconv-dir=/usr/local/libiconv \</span><br><span class="line">--with-apxs2=/usr/local/httpd/bin/apxs \</span><br><span class="line">--with-mysqli=/usr/local/mysql/bin/mysql_config \</span><br><span class="line">--with-mcrypt \</span><br><span class="line">--with-mhash \</span><br><span class="line">--with-openssl \</span><br><span class="line">--with-mysqli=shared,mysqlnd \</span><br><span class="line">--with-pdo-mysql=shared,mysqlnd \</span><br><span class="line">--with-gd \</span><br><span class="line">--with-zlib \</span><br><span class="line">--enable-zip \</span><br><span class="line">--enable-inline-optimization \</span><br><span class="line">--disable-debug \</span><br><span class="line">--disable-rpath \</span><br><span class="line">--enable-shared \</span><br><span class="line">--enable-xml \</span><br><span class="line">--enable-bcmath \</span><br><span class="line">--enable-shmop \</span><br><span class="line">--enable-sysvsem \</span><br><span class="line">--enable-mbregex \</span><br><span class="line">--enable-mbstring \</span><br><span class="line">--enable-ftp \</span><br><span class="line">--enable-gd-native-ttf \</span><br><span class="line">--enable-pcntl \</span><br><span class="line">--enable-sockets \</span><br><span class="line">--with-xmlrpc \</span><br><span class="line">--enable-soap \</span><br><span class="line">--without-pear \</span><br><span class="line">--with-gettext \</span><br><span class="line">--enable-session \</span><br><span class="line">--with-curl \</span><br><span class="line">--with-jpeg-dir \</span><br><span class="line">--enable-short-tags \</span><br><span class="line">--enable-static \</span><br><span class="line">--with-png-dir \</span><br><span class="line">--with-freetype-dir \</span><br><span class="line">--with-fpm-user=web \</span><br><span class="line">--with-fpm-group=web \</span><br><span class="line">--enable-opcache \</span><br><span class="line">--enable-fpm \</span><br><span class="line">--without-gdbm \</span><br><span class="line">--with-xsl \</span><br><span class="line">--disable-fileinfo</span><br><span class="line"></span><br><span class="line"># make &amp;&amp; make install</span><br><span class="line"># ll /usr/local/php-7.1.9/</span><br><span class="line"># ln -s /usr/local/php-7.1.9/ /usr/local/php</span><br><span class="line"># cp php.ini-production /usr/local/php/etc/php.ini</span><br></pre></td></tr></table></figure></p>
<p>0x03 安装各种php扩展库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cd ext/mysqli/</span><br><span class="line"># /usr/local/php/bin/phpize</span><br><span class="line"># ./configure --prefix=/usr/local/mysqli \</span><br><span class="line">--with-php-config=/usr/local/php/bin/php-config \</span><br><span class="line">--with-mysqli=/usr/local/mysql/bin/mysql_config</span><br><span class="line"></span><br><span class="line"># make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># vi /usr/local/php/etc/php.ini</span><br><span class="line">extension_dir = &quot;/usr/local/php-7.1.9/lib/php/extensions/no-debug-non-zts-20160303/&quot;</span><br><span class="line">extension=mysqli.so</span><br><span class="line">extension=opcache.so</span><br><span class="line">extension=pdo_mysql.so</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># vi /usr/local/httpd/conf/httpd.conf</span><br><span class="line">LoadModule php7_module        modules/libphp7.so</span><br><span class="line">&lt;Directory /&gt;</span><br><span class="line">  AllowOverride none</span><br><span class="line"># Require all denied</span><br><span class="line">  Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line">&lt;IfModule dir_module&gt;</span><br><span class="line">    DirectoryIndex index.php index.html</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;IfModule mime_module&gt;</span><br><span class="line">    TypesConfig conf/mime.types</span><br><span class="line">    AddType application/x-compress .Z</span><br><span class="line">    AddType application/x-gzip .gz .tgz</span><br><span class="line">    AddType application/x-httpd-php .php .pthml</span><br><span class="line">    AddType application/x-httpd-php-source .phps</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># /usr/local/httpd/bin/apachectl -t</span><br><span class="line"># /usr/local/httpd/bin/apachectl graceful</span><br></pre></td></tr></table></figure>
<p>四、安装各类开源程序对环境进行全面可用性检测<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">安装bwapp 漏洞演练程序</span><br><span class="line">安装dvwa 漏洞演练程序</span><br><span class="line">安装 Discuz X3.2 </span><br><span class="line">安装drupal 7.56</span><br><span class="line">安装 wordpress 4.8.1</span><br><span class="line">安装 joomla 3.6.5</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p><br><br>End<br>&nbsp;&nbsp;&nbsp;&nbsp;写脚本,写脚本,写脚本,重要的事情说三遍,或者更暴力一点,配好了以后直接打成rpm包,以后如果是完全相同的系统,直接全程yum即可,不然得烦死,另外,此环境仅作为自己学习之用,所以基本没做过任何加固处理,严禁直接参考用于实际生产环境中,否则,一切后果自负</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://apt404.github.io/2016/06/27/HeightLAMP/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://apt404.github.io/2016/06/27/HeightLAMP/&text=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://apt404.github.io/2016/06/27/HeightLAMP/&is_video=false&description=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9&body=Check out this article: https://apt404.github.io/2016/06/27/HeightLAMP/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://apt404.github.io/2016/06/27/HeightLAMP/&title=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://apt404.github.io/2016/06/27/HeightLAMP/&name=centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9&description=&lt;p&gt;&lt;br&gt;&lt;br&gt;一、首先,部署apache&lt;/p&gt;
&lt;p&gt;0x01 关于centOS7的安装就不细说了,依然是最小化安装,只勾选必要的系统库及常用工具,务必记得先禁用selinux和系统防火墙,此次部署环境软件包如下:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;apr-1.6.2.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apr-util-1.6.0.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cronolog-1.6.2.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;httpd-2.4.27.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libiconv-1.14.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;php-7.1.9.tar.gz&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;要实现的架构大致如下:&lt;br&gt;&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;centOS7_x64 +  httpd 2.4.27 + mysql 5.7.18 + php 7.1.9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 John Doe
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


